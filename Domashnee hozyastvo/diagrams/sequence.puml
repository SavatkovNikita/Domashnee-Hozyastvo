@startuml
actor "Пользователь" as User
participant "Главное меню" as Main
participant "Холодильник" as Fridge
participant "Шкаф" as Cabinet
participant "Финансы" as Finance
participant "База данных" as DB

== Добавление предметов ==

User -> Main: Выбрать "Добавить в холодильник"
Main -> Fridge: запрос_добавления_продукта
Fridge -> DB: INSERT INTO Item (категория: продукты)
Fridge -> DB: INSERT INTO Storage_Item (хранилище: холодильник)
DB --> Fridge: Успешно
Fridge --> Main: Продукт добавлен
Main --> User: Подтверждение

User -> Main: Выбрать "Добавить в шкаф"
Main -> Cabinet: запрос_добавления_химии
Cabinet -> DB: INSERT INTO Item (категория: химия)
Cabinet -> DB: INSERT INTO Storage_Item (хранилище: шкаф)
DB --> Cabinet: Успешно
Cabinet --> Main: Химия добавлена
Main --> User: Подтверждение

== Финансовые операции ==

User -> Main: Выбрать "Получить зарплату"
Main -> Finance: запрос_зарплаты
Finance -> DB: INSERT INTO Receipt (тип: зарплата, сумма: +)
DB --> Finance: Квитанция создана
Finance -> DB: UPDATE User SET Budget = Budget + сумма
DB --> Finance: Бюджет обновлён
Finance --> Main: Зарплата получена
Main --> User: Уведомление + квитанция

User -> Main: Выбрать "Оплатить коммуналку"
Main -> Finance: запрос_оплаты_коммуналки
Finance -> DB: INSERT INTO Receipt (тип: коммуналка, сумма: -)
DB --> Finance: Квитанция создана
Finance -> DB: UPDATE User SET Budget = Budget - сумма
DB --> Finance: Операция завершена
Finance --> Main: Платёж успешен
Main --> User: Подтверждение + квитанция

User -> Main: Выбрать "Просмотреть квитанции"
Main -> Finance: запрос_квитанций
Finance -> DB: SELECT * FROM Receipt
DB --> Finance: Список квитанций
Finance --> Main: Данные получены
Main --> User: Отображение истории

== Экспорт данных ==

User -> Main: Выбрать "Экспорт данных"
Main -> DB: SELECT данные из всех таблиц
DB --> Main: JSON/XML/CSV/YAML данные
Main --> User: Файлы созданы в папке out/
@enduml